{"ast":null,"code":"import _slicedToArray from\"/home/rafarlho/Desktop/rep/MarketPlants/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import TopNavSimpleLogin from'../components/Navbar/TopNavSimpleLogin';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var history=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];function handleClick(){history('/sign-up');}function loginButton(){var userData=localStorage.getItem('users');var users=[];if(userData){users=JSON.parse(userData);console.log('users:',users);var userIndex=users.findIndex(function(user){return user.email===email;});if(userIndex!==-1&&users[userIndex].password===password){users[userIndex].loggedIn=true;console.log(\"login update to true\");console.log(users[userIndex].loggedIn);// Update localStorage with the modified users array\nlocalStorage.setItem('users',JSON.stringify(users));history('/main');}else{setErrorMessage('Invalid email or password');return;}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"full_div\",children:[/*#__PURE__*/_jsx(TopNavSimpleLogin,{}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Login to your MarketPlants account!\"})}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{border:'2px solid green',padding:'20px',borderRadius:'10px',boxSizing:'border-box',marginLeft:'40%',marginRight:'40%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:0},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{backgroundColor:'#f2f2f2',borderRadius:'5px',border:'none',padding:'10px',marginBottom:'10px'},value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:0},children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",style:{backgroundColor:'#f2f2f2',borderRadius:'5px',border:'none',padding:'10px',marginBottom:'10px'},value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#6B8E23',color:'white',padding:'10px 20px',fontSize:'20px',borderRadius:'5px',border:'none',cursor:'pointer'},onClick:loginButton,children:\"Login\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:20,marginBottom:0},children:\"Forgot your password?\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginTop:'5px',backgroundColor:'#6B8E23',color:'white',padding:'5px 20px',fontSize:'20px',borderRadius:'5px',border:'none',cursor:'pointer'},children:\"Recover password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h2\",{style:{marginTop:20},children:[\"Or Register if you don't have an account:\",' ',/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:'#6B8E23',color:'white',padding:'5px 20px',fontSize:'20px',borderRadius:'5px',border:'none',cursor:'pointer'},onClick:handleClick,children:\"Register\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom_panel\"})]});};export default Login;","map":{"version":3,"names":["React","useState","TopNavSimpleLogin","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","history","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","handleClick","loginButton","userData","localStorage","getItem","users","JSON","parse","console","log","userIndex","findIndex","user","loggedIn","setItem","stringify","className","children","style","border","padding","borderRadius","boxSizing","marginLeft","marginRight","marginBottom","type","backgroundColor","value","onChange","e","target","color","fontSize","cursor","onClick","marginTop"],"sources":["/home/rafarlho/Desktop/rep/MarketPlants/src/pages/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport TopNavSimpleLogin from '../components/Navbar/TopNavSimpleLogin';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n  const history = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  function handleClick() {\n    history('/sign-up');\n  }\n\n  function loginButton() {\n    const userData = localStorage.getItem('users');\n    let users = [];\n    if (userData) {\n      users = JSON.parse(userData);\n      console.log('users:', users);\n  \n      const userIndex = users.findIndex((user) => user.email === email);\n  \n      if (userIndex !== -1 && users[userIndex].password === password) {\n        users[userIndex].loggedIn = true;\n        console.log(\"login update to true\")\n        console.log(users[userIndex].loggedIn)\n        // Update localStorage with the modified users array\n        localStorage.setItem('users', JSON.stringify(users));\n        history('/main');\n      } else {\n        setErrorMessage('Invalid email or password');\n        return\n      }\n    }\n  }\n  \n\n\n  return (\n    <div className='full_div'>\n      <TopNavSimpleLogin />\n\n      <center>\n        <h1>Login to your MarketPlants account!</h1>\n      </center>\n      <center>\n        <div\n          style={{\n            border: '2px solid green',\n            padding: '20px',\n            borderRadius: '10px',\n            boxSizing: 'border-box',\n            marginLeft: '40%',\n            marginRight: '40%',\n          }}\n        >\n          <div>\n            <h3 style={{ marginBottom: 0 }}>Email</h3>\n            <input\n              type='text'\n              style={{\n                backgroundColor: '#f2f2f2',\n                borderRadius: '5px',\n                border: 'none',\n                padding: '10px',\n                marginBottom: '10px',\n              }}\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </div>\n          <div>\n            <h3 style={{ marginBottom: 0 }}>Password</h3>\n            <input\n              type='password'\n              style={{\n                backgroundColor: '#f2f2f2',\n                borderRadius: '5px',\n                border: 'none',\n                padding: '10px',\n                marginBottom: '10px',\n              }}\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\n          <div>\n            <button\n              style={{\n                backgroundColor: '#6B8E23',\n                color: 'white',\n                padding: '10px 20px',\n                fontSize: '20px',\n                borderRadius: '5px',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n              onClick={loginButton}\n            >\n              Login\n            </button>\n          </div>\n          <div>\n            <h2 style={{ marginTop: 20, marginBottom: 0 }}>Forgot your password?</h2>\n            <button\n              style={{\n                marginTop: '5px',\n                backgroundColor: '#6B8E23',\n                color: 'white',\n                padding: '5px 20px',\n                fontSize: '20px',\n                borderRadius: '5px',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n            >\n              Recover password\n            </button>\n          </div>\n        </div>\n        <div>\n          <h2 style={{ marginTop: 20 }}>\n            Or Register if you don't have an account:{' '}\n            <button\n              style={{\n                backgroundColor: '#6B8E23',\n                color: 'white',\n                padding: '5px 20px',\n                fontSize: '20px',\n                borderRadius: '5px',\n                border: 'none',\n                cursor: 'pointer',\n              }}\n              onClick={handleClick}\n            >\n              Register\n            </button>\n          </h2>\n        </div>\n      </center>\n      <div className='bottom_panel'></div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"6HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,iBAAiB,KAAM,wCAAwC,CACtE,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,GAAM,CAAAC,OAAO,CAAGN,WAAW,CAAC,CAAC,CAC7B,IAAAO,SAAA,CAA0BT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAwClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,QAAS,CAAAG,WAAWA,CAAA,CAAG,CACrBd,OAAO,CAAC,UAAU,CAAC,CACrB,CAEA,QAAS,CAAAe,WAAWA,CAAA,CAAG,CACrB,GAAM,CAAAC,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC9C,GAAI,CAAAC,KAAK,CAAG,EAAE,CACd,GAAIH,QAAQ,CAAE,CACZG,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAC5BM,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEJ,KAAK,CAAC,CAE5B,GAAM,CAAAK,SAAS,CAAGL,KAAK,CAACM,SAAS,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACtB,KAAK,GAAKA,KAAK,GAAC,CAEjE,GAAIoB,SAAS,GAAK,CAAC,CAAC,EAAIL,KAAK,CAACK,SAAS,CAAC,CAAChB,QAAQ,GAAKA,QAAQ,CAAE,CAC9DW,KAAK,CAACK,SAAS,CAAC,CAACG,QAAQ,CAAG,IAAI,CAChCL,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CACnCD,OAAO,CAACC,GAAG,CAACJ,KAAK,CAACK,SAAS,CAAC,CAACG,QAAQ,CAAC,CACtC;AACAV,YAAY,CAACW,OAAO,CAAC,OAAO,CAAER,IAAI,CAACS,SAAS,CAACV,KAAK,CAAC,CAAC,CACpDnB,OAAO,CAAC,OAAO,CAAC,CAClB,CAAC,IAAM,CACLa,eAAe,CAAC,2BAA2B,CAAC,CAC5C,OACF,CACF,CACF,CAIA,mBACEf,KAAA,QAAKgC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBnC,IAAA,CAACH,iBAAiB,GAAE,CAAC,cAErBG,IAAA,WAAAmC,QAAA,cACEnC,IAAA,OAAAmC,QAAA,CAAI,qCAAmC,CAAI,CAAC,CACtC,CAAC,cACTjC,KAAA,WAAAiC,QAAA,eACEjC,KAAA,QACEkC,KAAK,CAAE,CACLC,MAAM,CAAE,iBAAiB,CACzBC,OAAO,CAAE,MAAM,CACfC,YAAY,CAAE,MAAM,CACpBC,SAAS,CAAE,YAAY,CACvBC,UAAU,CAAE,KAAK,CACjBC,WAAW,CAAE,KACf,CAAE,CAAAP,QAAA,eAEFjC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAIoC,KAAK,CAAE,CAAEO,YAAY,CAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,OAAK,CAAI,CAAC,cAC1CnC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACXR,KAAK,CAAE,CACLS,eAAe,CAAE,SAAS,CAC1BN,YAAY,CAAE,KAAK,CACnBF,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,MAAM,CACfK,YAAY,CAAE,MAChB,CAAE,CACFG,KAAK,CAAEtC,KAAM,CACbuC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAvC,QAAQ,CAACuC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC3C,CAAC,EACC,CAAC,cACN5C,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAIoC,KAAK,CAAE,CAAEO,YAAY,CAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,UAAQ,CAAI,CAAC,cAC7CnC,IAAA,UACE4C,IAAI,CAAC,UAAU,CACfR,KAAK,CAAE,CACLS,eAAe,CAAE,SAAS,CAC1BN,YAAY,CAAE,KAAK,CACnBF,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,MAAM,CACfK,YAAY,CAAE,MAChB,CAAE,CACFG,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAnC,WAAW,CAACmC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC9C,CAAC,EACC,CAAC,CACL9B,YAAY,eAAIhB,IAAA,MAAGoC,KAAK,CAAE,CAAEc,KAAK,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAEnB,YAAY,CAAI,CAAC,cAC/DhB,IAAA,QAAAmC,QAAA,cACEnC,IAAA,WACEoC,KAAK,CAAE,CACLS,eAAe,CAAE,SAAS,CAC1BK,KAAK,CAAE,OAAO,CACdZ,OAAO,CAAE,WAAW,CACpBa,QAAQ,CAAE,MAAM,CAChBZ,YAAY,CAAE,KAAK,CACnBF,MAAM,CAAE,MAAM,CACde,MAAM,CAAE,SACV,CAAE,CACFC,OAAO,CAAElC,WAAY,CAAAgB,QAAA,CACtB,OAED,CAAQ,CAAC,CACN,CAAC,cACNjC,KAAA,QAAAiC,QAAA,eACEnC,IAAA,OAAIoC,KAAK,CAAE,CAAEkB,SAAS,CAAE,EAAE,CAAEX,YAAY,CAAE,CAAE,CAAE,CAAAR,QAAA,CAAC,uBAAqB,CAAI,CAAC,cACzEnC,IAAA,WACEoC,KAAK,CAAE,CACLkB,SAAS,CAAE,KAAK,CAChBT,eAAe,CAAE,SAAS,CAC1BK,KAAK,CAAE,OAAO,CACdZ,OAAO,CAAE,UAAU,CACnBa,QAAQ,CAAE,MAAM,CAChBZ,YAAY,CAAE,KAAK,CACnBF,MAAM,CAAE,MAAM,CACde,MAAM,CAAE,SACV,CAAE,CAAAjB,QAAA,CACH,kBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cACNnC,IAAA,QAAAmC,QAAA,cACEjC,KAAA,OAAIkC,KAAK,CAAE,CAAEkB,SAAS,CAAE,EAAG,CAAE,CAAAnB,QAAA,EAAC,2CACa,CAAC,GAAG,cAC7CnC,IAAA,WACEoC,KAAK,CAAE,CACLS,eAAe,CAAE,SAAS,CAC1BK,KAAK,CAAE,OAAO,CACdZ,OAAO,CAAE,UAAU,CACnBa,QAAQ,CAAE,MAAM,CAChBZ,YAAY,CAAE,KAAK,CACnBF,MAAM,CAAE,MAAM,CACde,MAAM,CAAE,SACV,CAAE,CACFC,OAAO,CAAEnC,WAAY,CAAAiB,QAAA,CACtB,UAED,CAAQ,CAAC,EACP,CAAC,CACF,CAAC,EACA,CAAC,cACTnC,IAAA,QAAKkC,SAAS,CAAC,cAAc,CAAM,CAAC,EACjC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}